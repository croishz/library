<!DOCTYPE html>
<html lang="en">
<head>
    <title>Date</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <!-- CSS -->

    <!-- JS -->
    <!-- <script language="JavaScript">
    function makeStartDate(month)
    {
        var temp_Month = now_Month; // 전역변수의 값을 변경하지 않도록 다른변수에 값을 옮겨 넣는다.
        var startDay = now_Day; //시작요일을 저장하는 변수이다. 먼저 기본값으로 현재 요일을 저장한다.
        if(now_Month == month) //만약 시작일의 기준이 되는 달이 현재 달일 경우이다.
        {
            for( ; temp_Month >= 0 ; temp_Month--) //시작값:현지 일자, 끝깞 : 0: 
            {
                startDay--; // -1씩 감소
                if(startDay < 0) //요일은 0부터 6까지 있기 때문에 0미만으로 내려가면 한바퀴, 즉 6으로 되돌아가도록 한다.
                {
                    startDay = 6;
                }			
                //이 반복문에서는 현재 진행중인 일 수 만큼 반복문이 진행해야 한다. 
                //그리고 현재 일자가 1일일 경우에는 반복문 수행 필요없이 바로 요일을 구한다.
            }
            return startDay;
        }
        alert("입력받은 월이 당월이 아닙니다.");
    }

    with(document)
    {
        var count = 0; // 이 변수는 현재 진행되고 있는 반복문의 요일을 계산한다.
        var startDay = makeStartDate(now_Month); //당월의 시작요일을 구한다. 0부터 일요일 ...
        var totalDate = getTotalDate(now_Year,now_Month); //당월의 총 일수이다.
    
        write("<tr align='center'>");
            //이 반복문은 날짜가 들어가기 전까지 공백 TD가 들어가도록 하는 반복문이다.
            var previousDate = getTotalDate(now_Year,now_Month-1);//전 달의 총 일수이다.	
            var start_previousDate = previousDate - startDay+1;//당월 달력에서 이전달의 일자가 시작하는 수를 구한다.
            for(var i=0 ; i<startDay ; i++)	//위에서 여기서 1을 더해준 이유는 당월에서 날짜가 시작하는 칸을 빼야하기 때문이다.
            {
                write("<td><font color='white'><b>"+start_previousDate+"</b><font></td>");
                start_previousDate++;
            }//for()------------------------------------------------------------
            
            //이 반복문은 실제 날짜가 들어가는 반복문이다.
            for(var i=1 ; i<=totalDate ; i++) 
            {
                if(startDay == 0) //요일이 일요일 일때 글씨색을 붉은색으로 한다.
                {
                    write("<td><font color='red'>"+i+"</font></td>");
                    startDay++;
                }
                else if(startDay == 6) //요일이 토요일 일때 글씨색을 파란색으로 한다.
                {
                    write("<td><font color='blue'>"+i+"</font></td>");
                    startDay++;
                }
                else //평일 일때 글씨색을 검정색으로 한다.
                {
                    write("<td>"+i+"</td>");
                    startDay++;
                }
        
                if(startDay > 6) //테이블의 새로운 행을 추가하도록 한다.
                {
                    startDay = 0;
                    write("</tr>");
                    write("<tr align='center'>");
                }
            }//for()------------------------------------------------------------
        
            //이 반복문은 당월의 날짜를 모두 출력하고 남은 공백에 다음달의 일자를 표시하도록 하는 반복문이다.
            for(var i=startDay ; i<=6 ; i++)
            {
                write("<td><font color='white'><b>"+i+"</b><font></td>");
            }//for()------------------------------------------------------------
    
        write("</tr>");
    }//with()---------------------------------------------------------------
    </script> -->
            
    <script>
        /*
            참조 
            http://blog.naver.com/PostView.nhn?blogId=qkddudgh2001&logNo=50098540956
            https://codepen.io/alenabdula/pen/OPEpGL
        */ 
        window.onload = function(){
            console.log("ready");
            function calendar(e){
                var dt = new Date(),
                    dayOrder = dt.getDay(), 
                    day = dt.getDate(),
                    month = dt.getMonth(),
                    year = dt.getFullYear();

                console.log(dt.getTimezoneOffset());
                console.log(dayOrder);
                console.log(day);
                console.log(month);
                console.log(year);
                

                // 영미권 전환.
                var _nameOf_ = {
                    Months : [ "January" , "February" , "March" , "April" ,"May","June","July","August","September","October","November","December"],
                    monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],
                    days : ["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],
                    daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]
                }
                // 월별 일수 설정.
                var totalDaysReturn = function(month, year){
                    switch(month){
                        case month === 4 || 6 || 9 || 11 : 
                            return 30;
                        break;
                        case month === 1 || 3 || 5 || 7 || 8 || 10 || 12 :
                            return 31;
                        break;
                        case month === 2 :
                            /*
                                leap year 
                                1. each four years 
                                2. but not each 100 years out of count.
                                3. but not each fourth 100 years incount again.
                            */
                            if( ( year%100 !== 0 && year%4 === 0 ) || year%400 === 0 ){
                                return 29;
                            }else{
                                return 28;
                            }
                        break;
                    }
                }
                var daySpread = function(a){
                    console.log(a);
                    console.log("done");
                    for(var i=0; i<=a; i++){
                        // $(".wrap").append( $("span.day") ).$(".day").eq(i)
                        $(".wrap").append("<span>" + i + "</span>");
                    }
                    
                }
                daySpread( totalDaysReturn( Date(2000, 2), Date(2000) ) );
            }
            calendar();
        }
    </script>
</head>
<body>
    <div class="wrap">
        <article class="cal">
            <div class="line_ui">
                <button class=prev_y>prev year</button>
                <button class="prev">prev month</button>
                <h1 class="head_time" style="text-transform: capitalize;">october</h1>
                <button class="next">next month</button>
                <button class="next_y">next year</button>
            </div>
            <div class="area_time">
                <div class="line_week">
                    <div class="cell_day"></div>
                </div>
            </div>
        </article>

    </div>
</body>
</html>